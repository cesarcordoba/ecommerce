h1 Promoci√≥n
md-button(ng-click="abrir()")
    md-icon done
md-divider
md-card(layout="row")
    md-autocomplete(
        flex
        md-selected-item="ctrl.productos.item"
        md-selected-item-change="ctrl.productos.seleccion(item)"
        md-search-text="ctrl.productos.busqueda"
        md-search-text-change="ctrl.productos.buscar(ctrl.productos.busqueda)" 
        md-items="item in ctrl.productos.filtrar(ctrl.productos.busqueda)" 
        md-item-text="item.nombre"
        md-dropdown-items="10"
        md-delay="1000"
        placeholder="Nombre de Producto")
        md-item-template
            span {{item.nombre}}
    md-button(ng-click="ctrl.promocion.ligarProducto()")
        md-icon add

md-card
    md-list
        md-list-item.md-2-line(ng-repeat="item in ctrl.promocion.productos")
            .md-list-item-text
                h4 {{item.nombre}}

md-card
    h4 Ofertas
    md-button(ng-click="ctrl.promocion.ofertas.crear()")
        md-icon add
    md-table-container
        table(md-table md-row-select multiple)
            thead(md-head)
                tr(md-row)
                    //- th(md-column) Oferta
                    th(md-column) Entrante
                    th(md-column) Saliente
                    th(md-column) Acciones
            tbody(md-body)
                tr(md-row md-select="dato" md-select-id="name" md-auto-select ng-repeat="oferta in ctrl.promocion.ofertas.items")
                    //- td(md-cell) {{oferta.nombre}}
                    td(md-cell)
                        md-list
                            md-button(ng-click="oferta.nuevoentrate()")
                                md-icon add
                            md-list-item(ng-repeat="entrante in oferta.entrantes")
                                span {{entrante.entrantes.cantidad}}
                                .md-list-item-text
                                    strong - {{entrante.nombre}}
                                .md-secondary
                                    md-button(ng-click="oferta.eliminarEntrante(entrante.entrantes.id)")
                                        md-icon delete
                                    
                    td(md-cell)
                        md-list
                            md-button(ng-click="oferta.nuevosaliente()")
                                md-icon add
                            md-list-item(ng-repeat="saliente in oferta.salientes")
                                span {{saliente.salientes.cantidad}}
                                .md-list-item-text
                                    strong -  {{saliente.nombre}}
                                .md-secondary
                                    md-button(ng-click="oferta.eliminarSaliente(saliente.salientes.id)")
                                        md-icon delete
                    td(md-cell)
                        md-button(ng-click="oferta.eliminar($index)")
                            md-icon delete
md-card
    h4 Descuentos
    md-button(ng-click="ctrl.promocion.descuentos.crear()")
        md-icon add
    md-table-container
        table(md-table md-row-select multiple)
            thead(md-head)
                tr(md-row)
                    //- th(md-column) Oferta
                    th(md-column) Cantidad
                    th(md-column) Productos
                    th(md-column) Acciones
            tbody(md-body)
                tr(md-row md-select="dato" md-select-id="name" md-auto-select ng-repeat="descuento in ctrl.promocion.descuentos.items")
                    //- td(md-cell) {{oferta.nombre}}
                    td(md-cell)
                        p {{descuento.cantidad}}
                                    
                    td(md-cell)
                        md-button(ng-click="descuento.ligarVersion()")
                            md-icon add
                        md-list
                            md-list-item(ng-repeat="version in descuento.versiones")
                                .md-list-item-text
                                    span {{version.nombre}}
                                .md-secondary
                    td(md-cell)
                        md-button(ng-click="descuento.eliminar($index)")
                            md-icon delete
                
                    
                                    
