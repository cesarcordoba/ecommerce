.productos
	.productos-content
		.filtro
			h4 Filtro
			md-button(ng-click="print() ")
				md-icon print
			md-expansion-panel-group(md-component-id="filtros" multiple="true")
				md-expansion-panel(md-component-id="precios")
					md-expansion-panel-collapsed
						md-expansion-panel-header
							md-expansion-panel-icon
							.md-title Precios
					md-expansion-panel-expanded
						md-expansion-panel-header
							.md-title Precios
						md-expansion-panel-content
							md-slider(step="1" min="1" max="3" aria-label="precios")
						md-expansion-panel-footer
							md-button(ng-click="$panel.collapse()")
								md-icon keyboard_arrow_up
				md-expansion-panel(md-component-id="{{modulo.nombre}}" ng-repeat="modulo in ctrl.modulos.items")
					md-expansion-panel-collapsed
						md-expansion-panel-header
							md-expansion-panel-icon
							.md-title {{ modulo.nombre }}
					md-expansion-panel-expanded
						md-expansion-panel-header
							.md-title {{ modulo.nombre }}
						md-expansion-panel-content
							md-list
								md-list-item(ng-repeat="item in modulo.items")
									.md-list-item-text
										md-checkbox(ng-model="item.check" ng-change="item.cambio(modulo)" aria-label="{{item.nombre}}")
										.color(ng-if="modulo.nombre === 'Colores'" style="background-color : {{ item.hex }}")
										span {{ item.nombre }}
						md-expansion-panel-footer
							md-button(ng-click="$panel.collapse()")
								md-icon keyboard_arrow_up
		md-divider
		.grid-container
			.categorias
				.categoria(ng-repeat="categoria in ctrl.categorias.items")
					md-autocomplete(
						flex
						md-selected-item="categoria.item"
						md-selected-item-change="ctrl.categorias.seleccionar(categoria.nivel, categoria.item.id)"
						md-search-text="categoria.busqueda"
						md-search-text-change="categoria.buscar(categoria.busqueda)" 
						md-items="item in categoria.filtrar()" 
						md-item-text="item.nombre"
						md-require-match="true"
						placeholder="Nivel {{categoria.nivel}}")
						md-item-template
							span {{item.nombre}}
			.ad
				img(src="img/ad.jpg")
			md-progress-linear(md-mode="indeterminate" ng-if="!ctrl.productos.items" ng-disabled="ctrl.productos.items")
			.grid-content
				md-progress-linear(md-mode="indeterminate" ng-disabled="ctrl.productos.items.length > 0" ng-if="ctrl.productos.items.length === 0")
				md-grid-list(md-cols-xs="{{ctrl.productos.col.xs}}" md-cols-sm="{{ctrl.productos.col.sm}}" md-cols-md="{{ctrl.productos.col.md}}" md-cols-lg="{{ctrl.productos.col.lg}}" md-cols-xl="{{ctrl.productos.col.xl}}" md-row-height-xs="{{ctrl.productos.height.xs}}" md-row-height-sm="{{ctrl.productos.height.sm}}" md-row-height-md="{{ctrl.productos.height.md}}" md-row-height-lg="{{ctrl.productos.height.lg}}" md-row-height-xl="{{ctrl.productos.height.xl}}"  md-gutter="{{ ctrl.productos.gutter }}" ng-if="ctrl.productos.items")
					md-grid-tile(md-colspan="{{producto.forma.width}}" md-rowspan="{{producto.forma.height}}" ng-repeat="producto in ctrl.productos.items" ng-init="hover = false"    ng-class="hover ? 'conHover' : 'sinHover'")
						.producto-container
							producto(producto="producto" conector="resize(id, $index)")
							
						//- .producto-container
						//- 	.bandera(ng-if="producto.promociones.length > 0")
						//- 		img(src="img/tag.png")
						//- 	.producto(ng-click="producto.ir()")
						//- 		portada(id="producto.id")
						//- 		.producto-content
						//- 			h1 {{producto.nombre}}
						//- 			.spinner(ng-if="producto.focus && !producto.versiones" )
						//- 				md-progress-circular(md-mode="indeterminate" ng-disabled="!producto.versiones" md-diameter="50")
						//- 			.version(ng-repeat="version in producto.versiones" ng-if="producto.focus && producto.versiones")
						//- 				.version-content
						//- 					//- .nombre {{ version.nombre }}
						//- 					.detalles
						//- 						.opciones
						//- 							md-button.opcion(ng-repeat="opcion in version.opciones")
						//- 								span {{opcion.nombre}}
						//- 								md-tooltip
						//- 									span(ng-repeat="atributo in ctrl.atributos" ng-if="atributo.id === opcion.IdAtributo") {{atributo.nombre}} 
						//- 						.colores
						//- 							md-button.color(ng-repeat="color in version.colores" style="width : 20px; height : 20px; background-color : {{ color.hex }} ")
						//- 								md-tooltip {{color.nombre}}
						//- 				.precio-container(ng-class="{false : 'normal', true : 'oferta'}[version.oferta]")
						//- 					div    
						//- 						.precio(ng-if="version.precio") $ {{ version.precio.cantidad }}
						//- 						.descuento(ng-if="version.precio") $ {{ version.precio.cantidad - (( version.descuento.cantidad / 100 ) *  version.precio.cantidad) | number:0 }}
						//- 					md-progress-circular(md-mode="indeterminate" ng-if="!version.precio" md-diameter="15")
						//- 	.botones(ng-if="producto.focus")
						//- 		md-button
						//- 			md-icon favorite
						//- 		md-button
						//- 			md-icon shopping_cart
									
			cl-paging(cl-pages="ctrl.productos.filtros.paginas" cl-steps="6" cl-page-changed="ctrl.productos.obtener()" cl-align="start start" cl-current-page="ctrl.productos.filtros.pagina")
